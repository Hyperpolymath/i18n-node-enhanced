# ═══════════════════════════════════════════════════════════════════════════════
# polyglot-i18n .gitattributes
# ═══════════════════════════════════════════════════════════════════════════════
#
# Language priority: ReScript > Rust (WASM) > Scheme (Guix) > Nickel > Just
# Legacy JavaScript is transitional and excluded from language statistics
#
# Container tooling: nerdctl (not Docker)

# ─────────────────────────────────────────────────────────────────────────────────
# Default behavior
# ─────────────────────────────────────────────────────────────────────────────────
* text=auto eol=lf

# ─────────────────────────────────────────────────────────────────────────────────
# PRIMARY LANGUAGES (counted in stats)
# ─────────────────────────────────────────────────────────────────────────────────

# ReScript - Primary implementation language
*.res        text eol=lf linguist-language=ReScript
*.resi       text eol=lf linguist-language=ReScript

# Rust - WASM acceleration layer
*.rs         text eol=lf linguist-language=Rust
Cargo.toml   text eol=lf linguist-language=TOML
Cargo.lock   text eol=lf linguist-generated

# Scheme - Guix packaging (primary package manager)
*.scm        text eol=lf linguist-language=Scheme

# Nickel - Type-safe configuration
*.ncl        text eol=lf linguist-language=Nickel

# Nix - Fallback packaging
*.nix        text eol=lf linguist-language=Nix
flake.lock   text eol=lf linguist-generated

# Just - Task runner
justfile     text eol=lf linguist-language=Just

# TypeScript - Deno module types only
deno/**/*.ts text eol=lf linguist-language=TypeScript

# ─────────────────────────────────────────────────────────────────────────────────
# LEGACY JAVASCRIPT (excluded from stats - transitional)
# ─────────────────────────────────────────────────────────────────────────────────
# These files are being migrated to ReScript and are marked as vendored
# to reflect the project's target architecture, not its current state

# Core legacy (to be replaced by ReScript)
i18n.js              text eol=lf linguist-vendored
index.js             text eol=lf linguist-vendored

# Tests (to be migrated to ReScript/Deno test)
test/**/*.js         text eol=lf linguist-vendored

# Examples (to be migrated)
examples/**/*.js     text eol=lf linguist-vendored

# Adapters (to be migrated to ReScript)
adapters/**/*.js     text eol=lf linguist-vendored

# Automation/observability (to be migrated)
automation/**/*.js   text eol=lf linguist-vendored
observability/**/*.js text eol=lf linguist-vendored
audit/**/*.js        text eol=lf linguist-vendored

# Benchmarks (to be migrated)
benchmarks/**/*.js   text eol=lf linguist-vendored

# Tools (to be migrated to ReScript CLI)
tools/**/*.js        text eol=lf linguist-vendored

# Config files (not code)
.eslintrc.js         text eol=lf linguist-vendored
*.config.js          text eol=lf linguist-vendored
*.config.mjs         text eol=lf linguist-vendored

# Generated JS from ReScript (when we have it)
lib/**/*.js          text eol=lf linguist-generated
lib/**/*.mjs         text eol=lf linguist-generated
src/**/*.bs.js       text eol=lf linguist-generated

# ─────────────────────────────────────────────────────────────────────────────────
# Configuration files
# ─────────────────────────────────────────────────────────────────────────────────
*.json       text eol=lf
*.yaml       text eol=lf
*.yml        text eol=lf
*.toml       text eol=lf
deno.json    text eol=lf
deno.jsonc   text eol=lf
import_map.json text eol=lf

# ─────────────────────────────────────────────────────────────────────────────────
# Documentation (excluded from language stats)
# ─────────────────────────────────────────────────────────────────────────────────
*.md         text eol=lf linguist-documentation
*.adoc       text eol=lf linguist-documentation
*.txt        text eol=lf linguist-documentation
LICENSE      text eol=lf linguist-documentation
CLAUDE.md    text eol=lf linguist-documentation

# ─────────────────────────────────────────────────────────────────────────────────
# Shell scripts
# ─────────────────────────────────────────────────────────────────────────────────
*.sh         text eol=lf
*.bash       text eol=lf
*.zsh        text eol=lf
*.fish       text eol=lf
Makefile     text eol=lf

# ─────────────────────────────────────────────────────────────────────────────────
# Container - nerdctl/Containerfile (NOT Docker)
# ─────────────────────────────────────────────────────────────────────────────────
# We use Containerfile (OCI standard) not Dockerfile
# apko.yaml for declarative Chainguard Wolfi builds
Containerfile           text eol=lf linguist-language=Dockerfile linguist-detectable
container/Containerfile text eol=lf linguist-language=Dockerfile linguist-detectable
*.containerfile         text eol=lf linguist-language=Dockerfile

# Suppress Docker naming in favor of OCI/nerdctl terminology
Dockerfile              text eol=lf linguist-vendored linguist-detectable=false
*.dockerfile            text eol=lf linguist-vendored linguist-detectable=false

# apko declarative builds
apko.yaml               text eol=lf
container/apko.yaml     text eol=lf

# Compose (nerdctl-compose)
*-compose.yaml          text eol=lf
*-compose.yml           text eol=lf
compose.yaml            text eol=lf
compose.yml             text eol=lf

# ─────────────────────────────────────────────────────────────────────────────────
# Binary files
# ─────────────────────────────────────────────────────────────────────────────────
*.wasm       binary
*.png        binary
*.jpg        binary
*.jpeg       binary
*.gif        binary
*.ico        binary
*.svg        text eol=lf
*.pdf        binary
*.zip        binary
*.tar        binary
*.gz         binary

# ─────────────────────────────────────────────────────────────────────────────────
# Lock files (generated, don't diff, don't count)
# ─────────────────────────────────────────────────────────────────────────────────
package-lock.json    text eol=lf linguist-generated -diff
pnpm-lock.yaml       text eol=lf linguist-generated -diff
yarn.lock            text eol=lf linguist-generated -diff
deno.lock            text eol=lf linguist-generated -diff

# ─────────────────────────────────────────────────────────────────────────────────
# Merge strategies
# ─────────────────────────────────────────────────────────────────────────────────
package-lock.json    merge=ours
pnpm-lock.yaml       merge=ours
deno.lock            merge=ours

# ─────────────────────────────────────────────────────────────────────────────────
# Export ignore (not included in archives)
# ─────────────────────────────────────────────────────────────────────────────────
.github/             export-ignore
.gitattributes       export-ignore
.gitignore           export-ignore
.editorconfig        export-ignore
.eslintrc.js         export-ignore
.eslintignore        export-ignore
.prettierrc          export-ignore
.nvmrc               export-ignore
test/                export-ignore
benchmarks/          export-ignore
